<ng-container *ngIf="chapter">

  <button class="btn btn-secondary" [routerLink]="'/stories/' + chapter.story.id">Retour a la fic</button>
  <ng-container *ngIf="session.isMyOwnStory(chapter.story.owner)">
    <button class="btn btn-secondary" data-toggle="modal" data-target=".edit-chapter">Modifier le chapitre</button>
    <app-confirm-button type="danger">Supprimer le chapitre</app-confirm-button>
  </ng-container>

  <h2 class="text-center">{{chapter.titre}}</h2>

  <div #dataContainer>{{chapter.text}}</div>

  <div class="modal fade edit-chapter" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title" id="editStoryTitle">{{chapter.titre}}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <div class="container">
            <app-chapter-editor [chapter]="chapter" [storyId]="chapter.story.id"></app-chapter-editor>
          </div>

        </div>
      </div>
    </div>
  </div>

</ng-container>
